# 📌 校内聊天系统功能模块文档

基于 Netty WebSocket 与 ChatGPT 实现的实时聊天系统，具备完善的用户、群聊、消息与交互功能。

---

## 🔐 用户模块

- 登录/登出状态变更时进行上下线状态推送  
- 请求中集成用户解析逻辑（上下文绑定）  
- 使用拦截器实现身份验证与权限拦截处理  

---

## 🚫 黑名单模块

- 在用户请求拦截阶段校验黑名单状态  
- 黑名单信息使用缓存存储，提高查询效率  
- 设计用户角色与黑名单判断逻辑，控制访问权限  

---

## 👥 群成员模块

- 实时推送用户上下线状态至群组成员  
- 群成员列表支持游标分页加载  
- 成员信息使用缓存加速访问，支持动态刷新  
- 完善群成员管理逻辑（加入、退出、权限等）  

---

## 💬 会话列表模块

- 支持用户与群组的会话列表展示  
- 显示未读消息数与最后一条消息预览  
- 支持按照时间/优先级排序与分页加载  

---

## 📨 消息模块

- 消息类型支持：文本、图片、@、回复、撤回等  
- 文本消息支持 URL 标题解析，生成小卡片组件  
- 回复消息支持跳转并进行原始消息的前置保存  
- 使用策略模式实现不同类型消息的处理逻辑  
- 实现消息频率控制，防止滥用发送  
- 统一封装通用的消息查询与格式转换方法  
- 实现发送后通知推送，保证实时性  

---

## 🔖 消息标记模块

- 支持对消息的点赞、点踩等行为  
- 设计使用分布式锁，保证高并发场景下的一致性  
- 标记处理流程中引入设计模式（策略/状态）提高灵活性  

---

## 🏅 徽章发放模块

- 消息被标记后可触发徽章奖励机制  
- 实现徽章发放的幂等逻辑，防止重复授予  
- 使用缓存+锁机制，确保奖励系统的稳定与安全  
- 可拓展更多行为成就体系，激励用户参与  

---

> 📌 注：系统整体架构基于 Netty + Spring Boot，使用 WebSocket 实现即时通信，结合 Redis 缓存提升性能，集成 ChatGPT 提升交互体验。
